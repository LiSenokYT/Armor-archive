<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–∞–∑–µ–º–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ | –ê—Ä—Ö–∏–≤ –ë—Ä–æ–Ω–∏</title>
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/catalog.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo">
                    <span class="logo-icon">üõ°Ô∏è</span>
                    <span class="logo-text">–ê–†–•–ò–í –ë–†–û–ù–ò</span>
                </div>
                
                <ul class="nav-links">
                    <li><a href="../index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="ground-vehicles.html" class="nav-link active">–ù–∞–∑–µ–º–Ω–∞—è</a></li>
                    <li><a href="air-vehicles.html" class="nav-link">–í–æ–∑–¥—É—à–Ω–∞—è</a></li>
                    <li><a href="naval-vehicles.html" class="nav-link">–ú–æ—Ä—Å–∫–∞—è</a></li>
                </ul>
                
                <div class="nav-actions">
                    <div class="search-box">
                        <input type="text" placeholder="–ü–æ–∏—Å–∫ —Ç–µ—Ö–Ω–∏–∫–∏..." class="search-input">
                        <button class="search-btn">üîç</button>
                    </div>
                    <button class="mobile-menu-btn">‚ò∞</button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="breadcrumbs">
                <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                <span class="breadcrumb-separator">/</span>
                <span class="current">–ù–∞–∑–µ–º–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞</span>
            </div>
            
            <div class="page-header-content">
                <h1 class="page-title">–ù–∞–∑–µ–º–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞</h1>
                <p class="page-subtitle">–¢–∞–Ω–∫–∏, –ë–ú–ü, –°–ê–£, –±—Ä–æ–Ω–µ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ—Ä—ã –∏ –¥—Ä—É–≥–∞—è –Ω–∞–∑–µ–º–Ω–∞—è –≤–æ–µ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞</p>
                
                <div class="quick-stats">
                    <div class="quick-stat">
                        <span class="stat-number">30</span>
                        <span class="stat-label">–µ–¥–∏–Ω–∏—Ü —Ç–µ—Ö–Ω–∏–∫–∏</span>
                    </div>
                    <div class="quick-stat">
                        <span class="stat-number">8</span>
                        <span class="stat-label">—Å—Ç—Ä–∞–Ω</span>
                    </div>
                    <div class="quick-stat">
                        <span class="stat-number">12</span>
                        <span class="stat-label">–∫–∞—Ç–µ–≥–æ—Ä–∏–π</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Compact Filters Section -->
    <section class="filters-section">
        <div class="container">
            <div class="filters-header">
                <h2>
                    <span>üîç</span>
                    –§–∏–ª—å—Ç—Ä—ã
                </h2>
                <div class="filters-actions">
                    <button class="filters-toggle" id="filtersToggle">
                        <span>–ü–æ–∫–∞–∑–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</span>
                        <span class="toggle-icon">‚ñº</span>
                    </button>
                    <button class="clear-filters" id="clearFilters">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ</button>
                </div>
            </div>
            
            <div class="filters-container" id="filtersContainer">
                <div class="filters-grid">
                    <!-- Search Filter -->
                    <div class="filter-group">
                        <label class="filter-label">–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é</label>
                        <div class="search-filter">
                            <input type="text" id="searchFilter" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢-72, Abrams...">
                            <button class="search-filter-btn">üîç</button>
                        </div>
                    </div>

                    <!-- Type Filter - Expanded -->
                    <div class="filter-group">
                        <label class="filter-label">–¢–∏–ø —Ç–µ—Ö–Ω–∏–∫–∏</label>
                        <div class="filter-chips" id="typeFilter">
                            <button class="filter-chip active" data-type="all">–í—Å–µ</button>
                            <button class="filter-chip" data-type="mbt">–û–ë–¢</button>
                            <button class="filter-chip" data-type="light-tank">–õ—ë–≥–∫–∏–µ —Ç–∞–Ω–∫–∏</button>
                            <button class="filter-chip" data-type="medium-tank">–°—Ä–µ–¥–Ω–∏–µ —Ç–∞–Ω–∫–∏</button>
                            <button class="filter-chip" data-type="heavy-tank">–¢—è–∂—ë–ª—ã–µ —Ç–∞–Ω–∫–∏</button>
                            <button class="filter-chip" data-type="ifv">–ë–ú–ü</button>
                            <button class="filter-chip" data-type="apc">–ë–¢–†</button>
                            <button class="filter-chip" data-type="bmd">–ë–ú–î</button>
                            <button class="filter-chip" data-type="brdm">–ë–†–î–ú</button>
                            <button class="filter-chip" data-type="spg">–°–ê–£</button>
                            <button class="filter-chip" data-type="spaag">–ó–°–£</button>
                            <button class="filter-chip" data-type="engineer">–ò–†–ú</button>
                            <button class="filter-chip" data-type="recovery">–ú–¢–û</button>
                            <button class="filter-chip" data-type="cbrn">–†–•–ë–ó</button>
                        </div>
                    </div>

                    <!-- Country Filter -->
                    <div class="filter-group">
                        <label class="filter-label">–°—Ç—Ä–∞–Ω–∞</label>
                        <select class="filter-select" id="countryFilter">
                            <option value="all">–í—Å–µ —Å—Ç—Ä–∞–Ω—ã</option>
                            <option value="ussr">–°–°–°–†/–†–æ—Å—Å–∏—è</option>
                            <option value="usa">–°–®–ê</option>
                            <option value="germany">–ì–µ—Ä–º–∞–Ω–∏—è</option>
                            <option value="uk">–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è</option>
                            <option value="france">–§—Ä–∞–Ω—Ü–∏—è</option>
                            <option value="china">–ö–∏—Ç–∞–π</option>
                            <option value="japan">–Ø–ø–æ–Ω–∏—è</option>
                            <option value="israel">–ò–∑—Ä–∞–∏–ª—å</option>
                            <option value="sweden">–®–≤–µ—Ü–∏—è</option>
                        </select>
                    </div>

                    <!-- Era Filter -->
                    <div class="filter-group">
                        <label class="filter-label">–ü–µ—Ä–∏–æ–¥</label>
                        <select class="filter-select" id="eraFilter">
                            <option value="all">–í—Å–µ –ø–µ—Ä–∏–æ–¥—ã</option>
                            <option value="ww2">–í—Ç–æ—Ä–∞—è –º–∏—Ä–æ–≤–∞—è</option>
                            <option value="cold-war">–•–æ–ª–æ–¥–Ω–∞—è –≤–æ–π–Ω–∞</option>
                            <option value="modern">–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å</option>
                        </select>
                    </div>

                    <!-- Year Range -->
                    <div class="filter-group">
                        <label class="filter-label">–ì–æ–¥—ã —Å–ª—É–∂–±—ã</label>
                        <div class="range-filter">
                            <div class="range-inputs">
                                <input type="number" id="yearFrom" placeholder="1940" min="1900" max="2024">
                                <span class="range-separator">‚Äî</span>
                                <input type="number" id="yearTo" placeholder="2024" min="1900" max="2024">
                            </div>
                        </div>
                    </div>

                    <!-- Advanced Filters Toggle -->
                    <div class="filter-group">
                        <button class="advanced-filters-toggle" id="advancedToggle">
                            <span>–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã</span>
                            <span class="toggle-icon">‚ñº</span>
                        </button>
                    </div>

                    <!-- Advanced Filters -->
                    <div class="advanced-filters" id="advancedFilters">
                        <div class="filter-group">
                            <label class="filter-label">–ö–∞–ª–∏–±—Ä –æ—Ä—É–¥–∏—è (–º–º)</label>
                            <select class="filter-select" id="caliberFilter">
                                <option value="all">–õ—é–±–æ–π</option>
                                <option value="small">–¥–æ 75–º–º</option>
                                <option value="medium">76-105–º–º</option>
                                <option value="large">106-125–º–º</option>
                                <option value="very-large">126–º–º –∏ –±–æ–ª–µ–µ</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label class="filter-label">–≠–∫–∏–ø–∞–∂</label>
                            <select class="filter-select" id="crewFilter">
                                <option value="all">–õ—é–±–æ–π</option>
                                <option value="1-2">1-2 —á–µ–ª–æ–≤–µ–∫–∞</option>
                                <option value="3-4">3-4 —á–µ–ª–æ–≤–µ–∫–∞</option>
                                <option value="5+">5+ —á–µ–ª–æ–≤–µ–∫</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label class="filter-label">–ú–∞—Å—Å–∞</label>
                            <select class="filter-select" id="weightFilter">
                                <option value="all">–õ—é–±–∞—è</option>
                                <option value="light">–¥–æ 20—Ç (–ª—ë–≥–∫–∞—è)</option>
                                <option value="medium">20-40—Ç (—Å—Ä–µ–¥–Ω—è—è)</option>
                                <option value="heavy">40-60—Ç (—Ç—è–∂—ë–ª–∞—è)</option>
                                <option value="super-heavy">60—Ç+ (—Å–≤–µ—Ä—Ö—Ç—è–∂—ë–ª–∞—è)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Active Filters -->
                <div class="active-filters" id="activeFilters">
                    <!-- Active filters will be displayed here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section class="results-section">
        <div class="container">
            <div class="results-header">
                <div class="results-info">
                    <h3>–ù–∞–π–¥–µ–Ω–æ –µ–¥–∏–Ω–∏—Ü: <span id="resultsCount">30</span></h3>
                    <div class="sort-controls">
                        <label>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                        <select id="sortSelect">
                            <option value="name">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–ê-–Ø)</option>
                            <option value="name-desc">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–Ø-–ê)</option>
                            <option value="year">–ü–æ –≥–æ–¥—É (—Å—Ç–∞—Ä—ã–µ)</option>
                            <option value="year-desc">–ü–æ –≥–æ–¥—É (–Ω–æ–≤—ã–µ)</option>
                            <option value="weight">–ü–æ –º–∞—Å—Å–µ (–ª—ë–≥–∫–∏–µ)</option>
                            <option value="weight-desc">–ü–æ –º–∞—Å—Å–µ (—Ç—è–∂—ë–ª—ã–µ)</option>
                        </select>
                    </div>
                </div>
                
                <div class="view-controls">
                    <button class="view-btn active" data-view="grid" title="–°–µ—Ç–∫–∞">
                        ‚ñ¶
                    </button>
                    <button class="view-btn" data-view="list" title="–°–ø–∏—Å–æ–∫">
                        ‚ò∞
                    </button>
                </div>
            </div>

            <!-- Vehicles Grid -->
            <div class="vehicles-grid" id="vehiclesGrid">
                <!-- Vehicle cards will be dynamically loaded here -->
            </div>

            <!-- Loading State -->
            <div class="loading-state" id="loadingState">
                <div class="loading-spinner"></div>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Ö–Ω–∏–∫–∏...</p>
            </div>

            <!-- No Results State -->
            <div class="no-results" id="noResults" style="display: none;">
                <div class="no-results-icon">üîç</div>
                <h3>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h3>
                <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</p>
                <button class="cta-button primary" id="resetSearch">–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
            </div>

            <!-- Load More -->
            <div class="load-more-container">
                <button class="load-more-btn" id="loadMore">–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë</button>
            </div>
        </div>
    </section>

    <!-- Quick View Modal -->
    <div class="modal" id="quickViewModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">‚úï</button>
            <div class="modal-body" id="modalBody">
                <!-- Quick view content will be loaded here -->
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="logo">
                        <span class="logo-icon">üõ°Ô∏è</span>
                        <span class="logo-text">–ê–†–•–ò–í –ë–†–û–ù–ò</span>
                    </div>
                    <p class="footer-description">
                        –≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è –≤–æ–µ–Ω–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ –æ—Ç –¥—Ä–µ–≤–Ω–æ—Å—Ç–∏ –¥–æ –Ω–∞—à–∏—Ö –¥–Ω–µ–π. 
                        –ò—Å—Ç–æ—Ä–∏—è, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ details.
                    </p>
                </div>
                
                <div class="footer-section">
                    <h4>–†–∞–∑–¥–µ–ª—ã</h4>
                    <ul class="footer-links">
                        <li><a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="ground-vehicles.html">–ù–∞–∑–µ–º–Ω–∞—è</a></li>
                        <li><a href="../index.html">–í–æ–∑–¥—É—à–Ω–∞—è</a></li>
                        <li><a href="../index.html">–ú–æ—Ä—Å–∫–∞—è</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h4>
                    <ul class="footer-links">
                        <li><a href="#">–¢–∞–Ω–∫–∏</a></li>
                        <li><a href="#">–ë–ú–ü</a></li>
                        <li><a href="#">–ë–¢–†</a></li>
                        <li><a href="#">–°–ê–£</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
                    <div class="social-links">
                        <a href="#" class="social-link">GitHub</a>
                        <a href="#" class="social-link">Telegram</a>
                        <a href="#" class="social-link">Email</a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 –ê—Ä—Ö–∏–≤ –ë—Ä–æ–Ω–∏. –§–∞–Ω–∞—Ç—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç. –ù–µ –ø—Ä–µ—Å–ª–µ–¥—É–µ—Ç –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ü–µ–ª–µ–π.</p>
            </div>
        </div>
    </footer>

    <script>
// Vehicle Catalog with ALL filters and CORRECT links - FIXED VERSION
class VehicleCatalog {
    constructor() {
        this.vehicles = [];
        this.filteredVehicles = [];
        this.filters = {
            search: '',
            type: 'all',
            country: 'all',
            era: 'all',
            yearFrom: '',
            yearTo: '',
            caliber: 'all',
            crew: 'all',
            weight: 'all'
        };
        this.sortBy = 'name';
        this.viewMode = 'grid';
        this.filtersVisible = false;
        
        this.init();
    }

    init() {
        this.loadVehicles();
        this.bindEvents();
        this.applyFilters();
        this.toggleFilters(false);
    }

    loadVehicles() {
        this.vehicles = [
            {
                id: 1,
                name: "–¢-72–ë3",
                country: "ussr",
                type: "mbt",
                era: "modern",
                year: 2016,
                weight: 46,
                crew: 3,
                caliber: 125,
                description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ–µ–≤–æ–≥–æ —Ç–∞–Ω–∫–∞ –¢-72 —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –∑–∞—â–∏—Ç–æ–π –∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–≥–Ω—ë–º.",
                specs: {
                    speed: 60,
                    engine: "–í-84-1, 840 –ª.—Å.",
                    armor: "–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è",
                    mainGun: "125mm 2A46M"
                }
            },
            {
                id: 2,
                name: "M1A2 Abrams",
                country: "usa",
                type: "mbt",
                era: "modern",
                year: 1992,
                weight: 63,
                crew: 4,
                caliber: 120,
                description: "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ–µ–≤–æ–π —Ç–∞–Ω–∫ —Ç—Ä–µ—Ç—å–µ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è —Å —Ü–∏—Ñ—Ä–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.",
                specs: {
                    speed: 67,
                    engine: "AGT-1500, 1500 –ª.—Å.",
                    armor: "–ö–æ–º–ø–æ–∑–∏—Ç–Ω–∞—è",
                    mainGun: "120mm M256"
                }
            },
            {
                id: 3,
                name: "Leopard 2A7",
                country: "germany",
                type: "mbt",
                era: "modern",
                year: 2014,
                weight: 67,
                crew: 4,
                caliber: 120,
                description: "–ù–µ–º–µ—Ü–∫–∏–π –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ–µ–≤–æ–π —Ç–∞–Ω–∫, —Å—á–∏—Ç–∞—é—â–∏–π—Å—è –æ–¥–Ω–∏–º –∏–∑ –ª—É—á—à–∏—Ö –≤ –º–∏—Ä–µ.",
                specs: {
                    speed: 72,
                    engine: "MTU MB 873, 1500 –ª.—Å.",
                    armor: "–ö–æ–º–ø–æ–∑–∏—Ç–Ω–∞—è",
                    mainGun: "120mm Rh-120"
                }
            },
            {
                id: 4,
                name: "–ë–ú–ü-3",
                country: "ussr",
                type: "ifv",
                era: "cold-war",
                year: 1987,
                weight: 18,
                crew: 3,
                caliber: 100,
                description: "–ë–æ–µ–≤–∞—è –º–∞—à–∏–Ω–∞ –ø–µ—Ö–æ—Ç—ã —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∫–æ–º–ø–ª–µ–∫—Å–æ–º –≤–æ–æ—Ä—É–∂–µ–Ω–∏—è.",
                specs: {
                    speed: 70,
                    engine: "–£–¢–î-29, 500 –ª.—Å.",
                    armor: "–ê–ª—é–º–∏–Ω–∏–µ–≤–∞—è",
                    mainGun: "100mm 2A70"
                }
            },
            {
                id: 5,
                name: "–¢-34-85",
                country: "ussr",
                type: "medium-tank",
                era: "ww2",
                year: 1944,
                weight: 32,
                crew: 5,
                caliber: 85,
                description: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π —Å–æ–≤–µ—Ç—Å–∫–∏–π —Å—Ä–µ–¥–Ω–∏–π —Ç–∞–Ω–∫ –≤—Ä–µ–º—ë–Ω –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã.",
                specs: {
                    speed: 55,
                    engine: "–í-2-34, 500 –ª.—Å.",
                    armor: "–ö–∞—Ç–∞–Ω–∞—è —Å—Ç–∞–ª—å",
                    mainGun: "85mm –ó–ò–°-–°-53"
                }
            },
            {
                id: 6,
                name: "Tiger I",
                country: "germany",
                type: "heavy-tank",
                era: "ww2",
                year: 1942,
                weight: 57,
                crew: 5,
                caliber: 88,
                description: "–ù–µ–º–µ—Ü–∫–∏–π —Ç—è–∂—ë–ª—ã–π —Ç–∞–Ω–∫, –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ç–∞–Ω–∫–æ–≤ –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π.",
                specs: {
                    speed: 45,
                    engine: "Maybach HL230, 700 –ª.—Å.",
                    armor: "–ö–∞—Ç–∞–Ω–∞—è —Å—Ç–∞–ª—å",
                    mainGun: "88mm KwK 36"
                }
            },
            {
                id: 7,
                name: "–ë–¢–†-82–ê",
                country: "ussr",
                type: "apc",
                era: "modern",
                year: 2013,
                weight: 15,
                crew: 3,
                caliber: 30,
                description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–æ–Ω–µ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ë—Ä —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏.",
                specs: {
                    speed: 80,
                    engine: "–ö–∞–º–∞–∑-740.14-300, 300 –ª.—Å.",
                    armor: "–°—Ç–∞–ª—å–Ω–∞—è",
                    mainGun: "30mm 2A72"
                }
            },
            {
                id: 8,
                name: "M2 Bradley",
                country: "usa",
                type: "ifv",
                era: "cold-war",
                year: 1981,
                weight: 27,
                crew: 3,
                caliber: 25,
                description: "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∞—è –±–æ–µ–≤–∞—è –º–∞—à–∏–Ω–∞ –ø–µ—Ö–æ—Ç—ã —Å –º–æ—â–Ω—ã–º –≤–æ–æ—Ä—É–∂–µ–Ω–∏–µ–º.",
                specs: {
                    speed: 66,
                    engine: "Cummins VTA-903T, 600 –ª.—Å.",
                    armor: "–ê–ª—é–º–∏–Ω–∏–µ–≤–∞—è",
                    mainGun: "25mm M242"
                }
            }
        ];

        this.displayVehicles();
    }

    bindEvents() {
        // Toggle filters visibility
        document.getElementById('filtersToggle').addEventListener('click', () => {
            this.toggleFilters();
        });

        // Search filter
        document.getElementById('searchFilter').addEventListener('input', (e) => {
            this.filters.search = e.target.value;
            this.applyFilters();
        });

        // Type filter chips
        document.querySelectorAll('.filter-chip').forEach(chip => {
            chip.addEventListener('click', (e) => {
                document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
                e.target.classList.add('active');
                this.filters.type = e.target.dataset.type;
                this.applyFilters();
            });
        });

        // Select filters
        ['country', 'era', 'caliber', 'crew', 'weight'].forEach(filter => {
            const element = document.getElementById(filter + 'Filter');
            if (element) {
                element.addEventListener('change', (e) => {
                    this.filters[filter] = e.target.value;
                    this.applyFilters();
                });
            }
        });

        // Year range filters
        ['yearFrom', 'yearTo'].forEach(filter => {
            const element = document.getElementById(filter);
            if (element) {
                element.addEventListener('input', (e) => {
                    this.filters[filter] = e.target.value;
                    this.applyFilters();
                });
            }
        });

        // Sort control
        const sortSelect = document.getElementById('sortSelect');
        if (sortSelect) {
            sortSelect.addEventListener('change', (e) => {
                this.sortBy = e.target.value;
                this.applyFilters();
            });
        }

        // View controls
        document.querySelectorAll('.view-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
                this.viewMode = e.target.dataset.view;
                this.updateViewMode();
            });
        });

        // Advanced filters toggle
        const advancedToggle = document.getElementById('advancedToggle');
        if (advancedToggle) {
            advancedToggle.addEventListener('click', (e) => {
                e.target.classList.toggle('active');
                document.getElementById('advancedFilters').classList.toggle('active');
            });
        }

        // Clear filters
        const clearFilters = document.getElementById('clearFilters');
        if (clearFilters) {
            clearFilters.addEventListener('click', () => {
                this.clearFilters();
            });
        }

        // Reset search
        const resetSearch = document.getElementById('resetSearch');
        if (resetSearch) {
            resetSearch.addEventListener('click', () => {
                this.clearFilters();
            });
        }
    }

    toggleFilters(show) {
        this.filtersVisible = show !== undefined ? show : !this.filtersVisible;
        const container = document.querySelector('.filters-container');
        const toggle = document.getElementById('filtersToggle');
        
        if (this.filtersVisible) {
            container.classList.add('active');
            toggle.classList.add('active');
            toggle.innerHTML = '<span>–°–∫—Ä—ã—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</span><span class="toggle-icon">‚ñº</span>';
        } else {
            container.classList.remove('active');
            toggle.classList.remove('active');
            toggle.innerHTML = '<span>–ü–æ–∫–∞–∑–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</span><span class="toggle-icon">‚ñº</span>';
        }
    }

    applyFilters() {
        this.filteredVehicles = this.vehicles.filter(vehicle => {
            return this.matchesFilters(vehicle);
        });

        this.sortVehicles();
        this.updateActiveFilters(); // –¢–µ–ø–µ—Ä—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!
        this.displayVehicles();
    }

    // –î–û–ë–ê–í–õ–ï–ù–ù–´–ô –ú–ï–¢–û–î - –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫—É!
    updateActiveFilters() {
        const activeFiltersContainer = document.getElementById('activeFilters');
        if (!activeFiltersContainer) return;

        activeFiltersContainer.innerHTML = '';

        Object.entries(this.filters).forEach(([key, value]) => {
            if (value && value !== 'all') {
                const filterElement = document.createElement('div');
                filterElement.className = 'active-filter';
                
                let label = '';
                switch (key) {
                    case 'search':
                        if (!value) return;
                        label = `–ü–æ–∏—Å–∫: "${value}"`;
                        break;
                    case 'type':
                        label = `–¢–∏–ø: ${this.getTypeLabel(value)}`;
                        break;
                    case 'country':
                        label = `–°—Ç—Ä–∞–Ω–∞: ${this.getCountryLabel(value)}`;
                        break;
                    case 'era':
                        label = `–ü–µ—Ä–∏–æ–¥: ${this.getEraLabel(value)}`;
                        break;
                    case 'yearFrom':
                        label = `–ì–æ–¥ –æ—Ç: ${value}`;
                        break;
                    case 'yearTo':
                        label = `–ì–æ–¥ –¥–æ: ${value}`;
                        break;
                    case 'caliber':
                        label = `–ö–∞–ª–∏–±—Ä: ${this.getCaliberLabel(value)}`;
                        break;
                    case 'crew':
                        label = `–≠–∫–∏–ø–∞–∂: ${this.getCrewLabel(value)}`;
                        break;
                    case 'weight':
                        label = `–ú–∞—Å—Å–∞: ${this.getWeightLabel(value)}`;
                        break;
                }

                if (label) {
                    filterElement.innerHTML = `
                        ${label}
                        <button class="active-filter-remove" data-filter="${key}">√ó</button>
                    `;
                    activeFiltersContainer.appendChild(filterElement);
                }
            }
        });

        // Add remove event listeners
        document.querySelectorAll('.active-filter-remove').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const filter = e.target.dataset.filter;
                this.removeFilter(filter);
            });
        });
    }

    // –î–û–ë–ê–í–õ–ï–ù–ù–´–ô –ú–ï–¢–û–î - –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
    removeFilter(filter) {
        switch (filter) {
            case 'search':
                this.filters.search = '';
                document.getElementById('searchFilter').value = '';
                break;
            case 'type':
                this.filters.type = 'all';
                document.querySelectorAll('.filter-chip').forEach(chip => {
                    chip.classList.remove('active');
                    if (chip.dataset.type === 'all') chip.classList.add('active');
                });
                break;
            case 'country':
            case 'era':
            case 'caliber':
            case 'crew':
            case 'weight':
                this.filters[filter] = 'all';
                const filterElement = document.getElementById(filter + 'Filter');
                if (filterElement) filterElement.value = 'all';
                break;
            case 'yearFrom':
                this.filters.yearFrom = '';
                document.getElementById('yearFrom').value = '';
                break;
            case 'yearTo':
                this.filters.yearTo = '';
                document.getElementById('yearTo').value = '';
                break;
        }
        this.applyFilters();
    }

    matchesFilters(vehicle) {
        // Search filter
        if (this.filters.search && !vehicle.name.toLowerCase().includes(this.filters.search.toLowerCase())) {
            return false;
        }

        // Type filter
        if (this.filters.type !== 'all' && vehicle.type !== this.filters.type) {
            return false;
        }

        // Country filter
        if (this.filters.country !== 'all' && vehicle.country !== this.filters.country) {
            return false;
        }

        // Era filter
        if (this.filters.era !== 'all' && vehicle.era !== this.filters.era) {
            return false;
        }

        // Year range filter
        if (this.filters.yearFrom && vehicle.year < parseInt(this.filters.yearFrom)) {
            return false;
        }
        if (this.filters.yearTo && vehicle.year > parseInt(this.filters.yearTo)) {
            return false;
        }

        return true;
    }

    sortVehicles() {
        this.filteredVehicles.sort((a, b) => {
            switch (this.sortBy) {
                case 'name':
                    return a.name.localeCompare(b.name);
                case 'name-desc':
                    return b.name.localeCompare(a.name);
                case 'year':
                    return a.year - b.year;
                case 'year-desc':
                    return b.year - a.year;
                case 'weight':
                    return a.weight - b.weight;
                case 'weight-desc':
                    return b.weight - a.weight;
                default:
                    return 0;
            }
        });
    }

    displayVehicles() {
        const grid = document.getElementById('vehiclesGrid');
        const resultsCount = document.getElementById('resultsCount');
        const noResults = document.getElementById('noResults');
        const loadingState = document.getElementById('loadingState');

        if (!grid) return;

        if (loadingState) loadingState.style.display = 'none';

        if (this.filteredVehicles.length === 0) {
            grid.style.display = 'none';
            if (noResults) noResults.style.display = 'block';
            if (resultsCount) resultsCount.textContent = '0';
            return;
        }

        if (noResults) noResults.style.display = 'none';
        grid.style.display = 'grid';
        if (resultsCount) resultsCount.textContent = this.filteredVehicles.length;

        grid.innerHTML = this.filteredVehicles.map(vehicle => this.createVehicleCard(vehicle)).join('');
    }

    createVehicleCard(vehicle) {
        const typeLabel = this.getTypeLabel(vehicle.type);
        const countryLabel = this.getCountryLabel(vehicle.country);

        return `
            <div class="vehicle-card" data-vehicle-id="${vehicle.id}">
                <div class="vehicle-badge">${countryLabel}</div>
                <div class="vehicle-image">
                    <div class="vehicle-image-placeholder">
                        ${vehicle.name}
                    </div>
                </div>
                <div class="vehicle-content">
                    <div class="vehicle-header">
                        <h3 class="vehicle-title">${vehicle.name}</h3>
                    </div>
                    <div class="vehicle-country">${countryLabel} ‚Ä¢ ${vehicle.year}–≥</div>
                    <div class="vehicle-type">${typeLabel}</div>
                    
                    <div class="vehicle-specs">
                        <div class="vehicle-spec">
                            <span class="spec-label">–ú–∞—Å—Å–∞</span>
                            <span class="spec-value">${vehicle.weight}—Ç</span>
                        </div>
                        <div class="vehicle-spec">
                            <span class="spec-label">–≠–∫–∏–ø–∞–∂</span>
                            <span class="spec-value">${vehicle.crew}</span>
                        </div>
                        <div class="vehicle-spec">
                            <span class="spec-label">–ö–∞–ª–∏–±—Ä</span>
                            <span class="spec-value">${vehicle.caliber}–º–º</span>
                        </div>
                        <div class="vehicle-spec">
                            <span class="spec-label">–°–∫–æ—Ä–æ—Å—Ç—å</span>
                            <span class="spec-value">${vehicle.specs.speed}–∫–º/—á</span>
                        </div>
                    </div>
                    
                    <p class="vehicle-description">${vehicle.description}</p>
                    
                    <div class="vehicle-actions">
                        <a href="vehicle-details.html" class="vehicle-btn secondary">
                            –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </a>
                    </div>
                </div>
            </div>
        `;
    }

    clearFilters() {
        this.filters = {
            search: '',
            type: 'all',
            country: 'all',
            era: 'all',
            yearFrom: '',
            yearTo: '',
            caliber: 'all',
            crew: 'all',
            weight: 'all'
        };

        // Reset UI
        document.getElementById('searchFilter').value = '';
        document.querySelectorAll('.filter-chip').forEach(chip => {
            chip.classList.remove('active');
            if (chip.dataset.type === 'all') chip.classList.add('active');
        });
        
        const filtersToReset = ['country', 'era', 'caliber', 'crew', 'weight'];
        filtersToReset.forEach(filter => {
            const element = document.getElementById(filter + 'Filter');
            if (element) element.value = 'all';
        });
        
        document.getElementById('yearFrom').value = '';
        document.getElementById('yearTo').value = '';

        this.applyFilters();
    }

    updateViewMode() {
        const grid = document.getElementById('vehiclesGrid');
        if (grid) {
            grid.className = `vehicles-grid ${this.viewMode}-view`;
        }
    }

    // Helper methods
    getTypeLabel(type) {
        const types = {
            'mbt': '–û–ë–¢',
            'light-tank': '–õ—ë–≥–∫–∏–π —Ç–∞–Ω–∫',
            'medium-tank': '–°—Ä–µ–¥–Ω–∏–π —Ç–∞–Ω–∫',
            'heavy-tank': '–¢—è–∂—ë–ª—ã–π —Ç–∞–Ω–∫',
            'ifv': '–ë–ú–ü',
            'apc': '–ë–¢–†',
            'spg': '–°–ê–£',
            'brdm': '–ë–†–î–ú',
            'bmd': '–ë–ú–î',
            'cbrn': '–†–•–ë–ó',
            'engineer': '–ò–†–ú',
            'spaag': '–ó–°–£',
            'recovery': '–ú–¢–û'
        };
        return types[type] || type;
    }

    getCountryLabel(country) {
        const countries = {
            'ussr': '–°–°–°–†/–†–æ—Å—Å–∏—è',
            'usa': '–°–®–ê',
            'germany': '–ì–µ—Ä–º–∞–Ω–∏—è',
            'uk': '–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è',
            'france': '–§—Ä–∞–Ω—Ü–∏—è',
            'china': '–ö–∏—Ç–∞–π',
            'japan': '–Ø–ø–æ–Ω–∏—è',
            'israel': '–ò–∑—Ä–∞–∏–ª—å',
            'sweden': '–®–≤–µ—Ü–∏—è'
        };
        return countries[country] || country;
    }

    getEraLabel(era) {
        const eras = {
            'ww2': '–í—Ç–æ—Ä–∞—è –º–∏—Ä–æ–≤–∞—è',
            'cold-war': '–•–æ–ª–æ–¥–Ω–∞—è –≤–æ–π–Ω–∞',
            'modern': '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å'
        };
        return eras[era] || era;
    }

    getCaliberLabel(caliber) {
        const calibers = {
            'small': '–¥–æ 75–º–º',
            'medium': '76-105–º–º',
            'large': '106-125–º–º',
            'very-large': '126–º–º+'
        };
        return calibers[caliber] || caliber;
    }

    getCrewLabel(crew) {
        const crews = {
            '1-2': '1-2 —á–µ–ª–æ–≤–µ–∫–∞',
            '3-4': '3-4 —á–µ–ª–æ–≤–µ–∫–∞',
            '5+': '5+ —á–µ–ª–æ–≤–µ–∫'
        };
        return crews[crew] || crew;
    }

    getWeightLabel(weight) {
        const weights = {
            'light': '–¥–æ 20—Ç',
            'medium': '20-40—Ç',
            'heavy': '40-60—Ç',
            'super-heavy': '60—Ç+'
        };
        return weights[weight] || weight;
    }
}

// Initialize catalog when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    window.catalog = new VehicleCatalog();
});
</script>
</body>
</html>
